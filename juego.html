<html>
    <head>
        <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
        <!-- <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script> -->
    </head>
    <body>
        <a-scene obb-collider="showColliders:false" id="scene">
            <!-- <a-entity environment="preset: default"></a-entity> -->
            <a-plane position="0 1 0" color="#CCC" width="1" height="60" rotation="-90 0 0"></a-plane>
            <a-plane position="0 1 0" color="#CCC" width="1" height="60" rotation="-90 90 0"></a-plane>
            <a-box obb-collider id="caja1" position="0 1.5 -30" color="red" animation="property: position; to: 0 1.5 0; dur: 5000; easing: linear;"></a-box>
            <a-box obb-collider id="caja2" position="0 1.5 30" color="red" visible="false"></a-box>
            <a-box obb-collider id="caja3" position="30 1.5 0" color="red" visible="false"></a-box>
            <a-box obb-collider id="caja4" position="-30 1.5 0" color="red" visible="false"></a-box>
            <a-box obb-collider id="caja5" position="0 1.5 -30" color="red" visible="false"></a-box>
            <a-light type="ambient" position="0 0 0" color="white"></a-light>
            <a-camera look-controls="pointerLockEnabled:true;"  wasd-controls="enabled:false;" id="jugador" obb-collider pointerLockEnabled="true">
                <a-text id="win" value="Has Ganado!" visible="false" position="-0.6 0 -1" color="red"></a-text>
                <a-text id="lose" value="Has Perdido!" visible="false" position="-0.6 0 -1" color="red"></a-text>
                <a-cursor id="cursor" visible="true"></a-cursor> 
                <a-text id="direccion" value="Delante!" position="-0.4 2 -3" color="red"></a-text>
            </a-camera>
        </a-scene>
        <script>
            var player = document.getElementById("jugador");
            var caja1 = document.getElementById("caja1");
            var caja2 = document.getElementById("caja2");
            var caja3 = document.getElementById("caja3");
            var caja4 = document.getElementById("caja4");
            var caja5 = document.getElementById("caja5");
            var win = document.getElementById("win");
            var lose = document.getElementById("lose");
            var cursor = document.getElementById("cursor");
            var direccion = document.getElementById("direccion");
            document.getElementById("caja1").addEventListener("click",function (event)
            {
                caja1.remove();
                caja2.setAttribute("animation","property: position; to: 0 1.5 0; dur: 4000; easing: linear;");
                caja2.setAttribute("visible","true");
                direccion.setAttribute("value","Detras!");

            })
            document.getElementById("caja2").addEventListener("click",function (event)
            {
                caja2.remove();
                caja3.setAttribute("animation","property: position; to: 0 1.5 0; dur: 3000; easing: linear;");
                caja3.setAttribute("visible","true");
                direccion.setAttribute("value","Izquierda!");
            })
            document.getElementById("caja3").addEventListener("click",function (event)
            {
                caja3.remove();
                caja4.setAttribute("animation","property: position; to: 0 1.5 0; dur: 2000; easing: linear;");
                caja4.setAttribute("visible","true");
                direccion.setAttribute("value","Detras!");
            })
            document.getElementById("caja4").addEventListener("click",function (event)
            {
                caja4.remove();
                caja5.setAttribute("animation","property: position; to: 0 1.5 0; dur: 1500; easing: linear;");
                caja5.setAttribute("visible","true");
                direccion.setAttribute("value","Derecha!");
            })
            document.getElementById("caja5").addEventListener("click",function (event)
            {
                caja5.remove();
                win.setAttribute("visible","true");
                direccion.setAttribute("value","");
                cursor.setAttribute("visible","false");
            })
            player.addEventListener("obbcollisionstarted", function(event){
                cursor.setAttribute("visible","false");
                lose.setAttribute("visible","true");
                direccion.setAttribute("value","");
            })
        </script>
    </body>
</html>